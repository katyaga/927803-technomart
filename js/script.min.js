var message_link=document.querySelector(".contacts .button"),message_popup=document.querySelector(".modal-message");if(message_popup){var close=document.querySelector(".modal-message-close"),user_name=document.querySelector(".user-name"),e_mail=document.querySelector(".user-email"),message=document.querySelector(".user-message"),form=document.querySelector(".message-form"),isStorageSupport=!0,storage_user_name="",storage_e_mail="";try{storage_user_name=localStorage.getItem("name"),storage_e_mail=localStorage.getItem("e-mail")}catch(e){isStorageSupport=!1}message_link.addEventListener("click",function(e){e.preventDefault(),message_popup.classList.add("modal-show"),storage_user_name?(user_name.value=storage_user_name,storage_e_mail?(e_mail.value=storage_e_mail,message.focus()):e_mail.focus()):(console.log(user_name),message_popup.querySelector(".user-name").focus())}),close.addEventListener("click",function(e){e.preventDefault(),message_popup.classList.remove("modal-show"),message_popup.classList.remove("modal-error")}),form.addEventListener("submit",function(e){var t=!1;user_name.value&&e_mail.value&&message.value||(e.preventDefault(),console.log("Нужно заполнить все поля!"),message_popup.classList.remove("modal-error"),message_popup.offsetWidth=message_popup.offsetWidth,message_popup.classList.add("modal-error"),t=!0),!t&&isStorageSupport&&(localStorage.setItem("name",user_name.value),localStorage.setItem("e-mail",e_mail.value))}),window.onkeydown=function(e){27===e.keyCode&&(e.preventDefault(),message_popup.classList.contains("modal-show")&&(message_popup.classList.remove("modal-show"),message_popup.classList.remove("modal-error")),map_popup.classList.contains("modal-show")&&map_popup.classList.remove("modal-show"))}}var map_link=document.querySelector(".map"),map_popup=document.querySelector(".modal-map");if(map_popup){var map_close=map_popup.querySelector(".modal-map-close");map_link.addEventListener("click",function(e){e.preventDefault(),map_popup.classList.add("modal-show")}),map_close.addEventListener("click",function(e){e.preventDefault(),map_popup.classList.remove("modal-show")})}for(var slide_back=document.querySelector(".button-slider-back"),slide_next=document.querySelector(".button-slider-next"),slider=document.querySelector(".slider"),active_dot=document.querySelector(".dot-active"),active_slide=document.querySelector(".slide-active"),dots=document.querySelectorAll(".main-slider .dot"),slides=document.querySelectorAll(".slide"),set_active_dot=function(e){active_dot&&active_dot.classList.remove("dot-active"),e.classList.add("dot-active"),active_dot=e},set_active_slide_services=function(e){active_slide&&active_slide.classList.remove("slide-active"),e.classList.add("slide-active"),active_slide=e},add_click_dot_handler=function(e,t){e.addEventListener("click",function(){"dot-active"!==e&&(set_active_dot(e),set_active_slide_services(t))})},k=0;k<slides.length;k++)add_click_dot_handler(dots[k],slides[k]);var slider_2=document.querySelector(".slider-2");if(slider_2)for(var active_slide_2=document.querySelector(".slide-2-active"),active_button_2=document.querySelector(".active"),buttons=document.querySelectorAll(".services-slider-button"),slides_2=slider_2.querySelectorAll(".service"),set_active_button=function(e){active_button_2&&active_button_2.classList.remove("active"),e.classList.add("active"),active_button_2=e},set_active_slide=function(e){active_slide_2&&active_slide_2.classList.remove("slide-2-active"),e.classList.add("slide-2-active"),active_slide_2=e},add_click_handler=function(e,t){e.addEventListener("click",function(){"active"!==e&&(set_active_button(e),set_active_slide(t))})},i=0;i<slides_2.length;i++)add_click_handler(buttons[i],slides_2[i]);var buy_links=document.querySelectorAll(".product-button-buy"),buy_popup=document.querySelector(".modal-buy"),buy_close=buy_popup.querySelector(".modal-buy-close"),checkout=buy_popup.querySelector(".modal-checkout"),buy_continue=buy_popup.querySelector(".modal-continue");buy_links.forEach(function(e,t,s){e.addEventListener("click",function(e){e.preventDefault(),buy_popup.classList.add("modal-show")})}),buy_close.addEventListener("click",function(e){e.preventDefault(),buy_popup.classList.remove("modal-show")}),checkout.addEventListener("click",function(e){e.preventDefault(),buy_popup.classList.remove("modal-show")}),buy_continue.addEventListener("click",function(e){e.preventDefault(),buy_popup.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),buy_popup.classList.contains("modal-show")&&buy_popup.classList.remove("modal-show"))});
